import clsx from 'clsx';
import { m } from 'framer-motion';

const animation = {
  hide: { pathLength: 0.3 },
  show: (i) => {
    const delay = 0.6 + i * 0.1;
    return {
      pathLength: 1,
      transition: {
        pathLength: { delay, duration: 1 },
      },
    };
  },
};

interface HeaderImageAnimationProps {
  onAnimationComplete?: () => void;
}

function HeaderImageAnimation({
  onAnimationComplete = () => {},
}: HeaderImageAnimationProps) {
  return (
    <m.svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 500 500"
      fill="none"
      initial="hide"
      animate="show"
      strokeWidth={1.5}
      strokeLinecap="round"
      strokeLinejoin="round"
      className={clsx(
        'stroke-accent-500 h-[500px] w-[500px] opacity-60',
        'translate-x-5 dark:opacity-40'
      )}
      onAnimationComplete={onAnimationComplete}
    >
      <m.path
        variants={animation}
        custom={4}
        d="M 368.917 116.786 L 369.067 109.481 L 364.148 111.717 L 375.327 98.001 C 375.327 98.15 356.992 101.43 356.992 101.43 L 349.692 101.132 L 360.274 93.23 L 356.029 92.634 L 343.655 91.739 L 336.2 83.092 L 325.318 75.936 L 314.58 69.973 L 296.397 64.307 L 262.258 59.686 L 267.477 56.853 L 265.832 56.853 L 246.158 61.476 L 232.888 66.992 L 229.315 67.737 L 239.748 59.984 L 231.397 62.965 L 210.577 73.936 L 191.349 87.876 L 169.203 110.609 L 159.757 122.079 L 159.757 134.898 L 163.358 162.109 L 167.404 178.878 L 157.567 181.489 L 149.638 187.937 L 147.702 198.252 C 147.702 198.252 147.311 203.603 147.311 203.668 C 147.311 203.732 147.574 210.402 147.574 210.402 L 150.92 218.025 L 159.566 229.049 L 167.685 241.335 C 167.685 241.335 173.167 250.562 173.167 250.498 C 173.167 250.433 175.747 254.066 175.747 254.066 L 179.23 256.772 L 183.221 257.611 L 187.285 257.74 L 193.412 255.161 L 195.886 256.313 L 197.431 264.963 C 197.431 264.963 197.431 273.39 197.658 273.39 C 197.877 273.39 197.213 285.587 197.213 285.587 L 194.777 307.394 L 187.175 346.912 L 191.876 354.519 L 205.477 369.617 L 223.951 386.212 L 233.551 392.824 L 261.931 407.325 L 285.269 420.967 L 293.888 409.838 L 299.625 403.555 L 296.397 401.042 L 291.552 393.143 L 289.042 386.143 L 288.497 367.833 L 289.578 355.268 L 291.188 344.139 L 296.343 342.259 L 301.488 338.623 L 304.216 335.189 L 313.507 321.354 L 319.771 312.568 L 334.727 290.481 L 337.991 282.458 L 339.746 270.174 L 340.855 262.352 L 343.71 258.932 L 360.975 229.177 L 364.111 221.2 L 364.82 214.933 L 362.547 209.947 L 361.266 207.953 L 355.138 203.964 L 359.557 188.438 L 366.247 160.914 L 367.387 150.184 L 368.667 144.77 L 371.097 132.662 L 374.617 112.166"
      />
      <m.path
        variants={animation}
        custom={2}
        d="M 194.169 310.155 C 194.807 309.517 185.607 307.217 184.969 307.855 C 183.917 306.014 170.543 313.085 171.169 314.18 C 170.861 314.18 165.112 319.642 165.42 319.642 C 166.851 319.006 149.729 315.915 145.87 317.63 C 145.179 316.739 122.437 326.067 123.158 327.98 C 122.697 326.996 102.403 341.699 103.608 342.929 C 102.993 342.314 94.081 353.814 94.696 354.429 C 93.678 354.316 90.684 375.514 92.396 375.704 C 91.539 375.49 92.366 387.124 92.684 387.204 C 93.928 386.865 91.038 390.657 88.946 391.228 C 87.805 388.945 71.305 393.034 71.984 394.391 C 71.17 392.153 57.227 405.415 57.609 406.466 C 56.217 406.118 45.912 433.225 46.972 433.49 C 46.854 433.49 44.841 447.29 45.822 447.29 C 45.361 447.444 49.098 455.558 49.559 455.404 C 48.482 454.943 42.158 465.676 43.235 466.137 C 40.762 464.615 31.99 473.281 33.46 474.186 L 24.547 489.711 L 14.773 499.486"
      />
      <m.path
        variants={animation}
        custom={1}
        d="M 294.587 351.18 C 294.433 349.023 327.443 364.374 327.771 368.97 C 329.363 366.848 358.576 396.547 357.193 398.391 L 353.772 421.997 C 353.426 420.614 360.486 424.905 360.614 425.418 C 358.381 426.907 376.171 444.354 378.404 442.865 C 378.404 443.211 398.246 442.993 398.246 442.865 L 398.93 446.628 L 393.114 450.392 C 393.296 450.027 399.921 453.636 399.614 454.25 C 402.381 451.483 411.93 462.86 410.904 463.886 L 414.325 466.965 C 416.29 465.281 433.953 485.183 432.457 486.465 C 433.201 485.969 440.385 498.627 439.641 499.123"
      />
    </m.svg>
  );
}

export default HeaderImageAnimation;
